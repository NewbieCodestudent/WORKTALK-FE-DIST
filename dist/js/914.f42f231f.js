"use strict";(self["webpackChunkworktalk"]=self["webpackChunkworktalk"]||[]).push([[914],{2900:function(e,t,a){a.d(t,{JY:function(){return d},Ju:function(){return m},OS:function(){return y},Zy:function(){return i},aq:function(){return s},bQ:function(){return n},lC:function(){return p}});var o=a(3376);function n(e,t,a,n,s,d,p,i){return o.e.get("main",{params:{pageNum:e,searchSpaceType:t,searchSpaceName:a,searchAddress:n,searchStartDate:s,searchEndDate:d,searchStartTime:p,searchEndTime:i}})}function s(e){return o.e.get("spaceOne/"+e)}function d(){return o.x.get("member/isValid")}function p(e){return o.e.get("spaceOne/"+e+"/rooms")}function i(e){return o.e.get("roomOne/"+e)}function m(){return o.x.get("mileage/total")}function y(){return o.x.get("mileage")}},1101:function(e,t,a){a.d(t,{U:function(){return o},_:function(){return n}});const o=[{typeCode:11,name:"서울"},{typeCode:21,name:"부산광역시"},{typeCode:22,name:"대구광역시"},{typeCode:23,name:"인천광역시"},{typeCode:24,name:"광주광역시"},{typeCode:25,name:"대전광역시"},{typeCode:26,name:"울산광역시"},{typeCode:29,name:"세종특별자치시"},{typeCode:31,name:"경기"},{typeCode:32,name:"강원"},{typeCode:33,name:"충북"},{typeCode:34,name:"충남"},{typeCode:35,name:"전북"},{typeCode:36,name:"전남"},{typeCode:37,name:"경북"},{typeCode:38,name:"경남"},{typeCode:39,name:"제주"}],n=[{typeCode:39,name:"제주시"},{typeCode:39,name:"서귀포시"},{typeCode:38,name:"김해시"},{typeCode:38,name:"거제시"},{typeCode:38,name:"밀양시"},{typeCode:38,name:"사천시"},{typeCode:38,name:"양산시"},{typeCode:38,name:"진주시"},{typeCode:38,name:"진해구"},{typeCode:38,name:"통영시"},{typeCode:38,name:"창원시"},{typeCode:38,name:"고성군"},{typeCode:38,name:"거창군"},{typeCode:38,name:"남해군"},{typeCode:38,name:"산청군"},{typeCode:38,name:"의령군"},{typeCode:38,name:"창녕군"},{typeCode:38,name:"하동군"},{typeCode:38,name:"함안군"},{typeCode:38,name:"함양군"},{typeCode:38,name:"합천군"},{typeCode:37,name:"구미시"},{typeCode:37,name:"경산시"},{typeCode:37,name:"경주시"},{typeCode:37,name:"김천시"},{typeCode:37,name:"문경시"},{typeCode:37,name:"상주시"},{typeCode:37,name:"안동시"},{typeCode:37,name:"영주시"},{typeCode:37,name:"영천시"},{typeCode:37,name:"포항시"},{typeCode:37,name:"고령군"},{typeCode:37,name:"군위군"},{typeCode:37,name:"봉화군"},{typeCode:37,name:"성주군"},{typeCode:37,name:"영덕군"},{typeCode:37,name:"영양군"},{typeCode:37,name:"울진군"},{typeCode:37,name:"울릉군"},{typeCode:37,name:"의성군"},{typeCode:37,name:"예천군"},{typeCode:37,name:"청송군"},{typeCode:37,name:"청도군"},{typeCode:37,name:"칠곡군"},{typeCode:36,name:"광양시"},{typeCode:36,name:"나주시"},{typeCode:36,name:"목포시"},{typeCode:36,name:"순천시"},{typeCode:36,name:"여수시"},{typeCode:36,name:"강진군"},{typeCode:36,name:"고흥군"},{typeCode:36,name:"곡성군"},{typeCode:36,name:"구례군"},{typeCode:36,name:"담양군"},{typeCode:36,name:"무안군"},{typeCode:36,name:"보성군"},{typeCode:36,name:"신안군"},{typeCode:36,name:"영암군"},{typeCode:36,name:"영광군"},{typeCode:36,name:"완도군"},{typeCode:36,name:"장성군"},{typeCode:36,name:"장흥군"},{typeCode:36,name:"진도군"},{typeCode:36,name:"해남군"},{typeCode:36,name:"화순군"},{typeCode:36,name:"함평군"},{typeCode:35,name:"군산시"},{typeCode:35,name:"김제시"},{typeCode:35,name:"남원시"},{typeCode:35,name:"익산시"},{typeCode:35,name:"전주시"},{typeCode:35,name:"정읍시"},{typeCode:35,name:"고창군"},{typeCode:35,name:"무주군"},{typeCode:35,name:"부안군"},{typeCode:35,name:"순창군"},{typeCode:35,name:"완주군"},{typeCode:35,name:"임실군"},{typeCode:35,name:"장수군"},{typeCode:35,name:"진안군"},{typeCode:34,name:"공주시"},{typeCode:34,name:"계룡시"},{typeCode:34,name:"논산시"},{typeCode:34,name:"당진시"},{typeCode:34,name:"보령시"},{typeCode:34,name:"서산시"},{typeCode:34,name:"아산시"},{typeCode:34,name:"천안시"},{typeCode:34,name:"금산군"},{typeCode:34,name:"부여군"},{typeCode:34,name:"서천군"},{typeCode:34,name:"예산군"},{typeCode:34,name:"청양군"},{typeCode:34,name:"태안군"},{typeCode:34,name:"홍성군"},{typeCode:33,name:"제천시"},{typeCode:33,name:"청주시"},{typeCode:33,name:"충주시"},{typeCode:33,name:"괴산군"},{typeCode:33,name:"단양군"},{typeCode:33,name:"보은군"},{typeCode:33,name:"옥천군"},{typeCode:33,name:"영통군"},{typeCode:33,name:"음성군"},{typeCode:33,name:"증평군"},{typeCode:33,name:"진천군"},{typeCode:32,name:"춘천시"},{typeCode:32,name:"원주시"},{typeCode:32,name:"강릉시"},{typeCode:32,name:"동해시"},{typeCode:32,name:"태백시"},{typeCode:32,name:"속초시"},{typeCode:32,name:"홍천군"},{typeCode:32,name:"횡성군"},{typeCode:32,name:"영월군"},{typeCode:32,name:"평창군"},{typeCode:32,name:"정선군"},{typeCode:32,name:"철원군"},{typeCode:32,name:"화천군"},{typeCode:32,name:"양구군"},{typeCode:32,name:"인제군"},{typeCode:32,name:"고성군"},{typeCode:32,name:"양양군"},{typeCode:31,name:"고양시"},{typeCode:31,name:"과천시"},{typeCode:31,name:"광명시"},{typeCode:31,name:"광주시"},{typeCode:31,name:"구리시"},{typeCode:31,name:"군포시"},{typeCode:31,name:"김포시"},{typeCode:31,name:"남양주시"},{typeCode:31,name:"동두천시"},{typeCode:31,name:"부천시"},{typeCode:31,name:"성남시"},{typeCode:31,name:"수원시"},{typeCode:31,name:"시흥시"},{typeCode:31,name:"안산시"},{typeCode:31,name:"안성시"},{typeCode:31,name:"안양시"},{typeCode:31,name:"양주시"},{typeCode:31,name:"여주시"},{typeCode:31,name:"오산시"},{typeCode:31,name:"용인시"},{typeCode:31,name:"의왕시"},{typeCode:31,name:"의정부시"},{typeCode:31,name:"이천시"},{typeCode:31,name:"파주시"},{typeCode:31,name:"평택시"},{typeCode:31,name:"포천시"},{typeCode:31,name:"하남시"},{typeCode:31,name:"화성시"},{typeCode:31,name:"가평군"},{typeCode:31,name:"양평군"},{typeCode:31,name:"연천군"},{typeCode:29,name:"세종시"},{typeCode:26,name:"남구"},{typeCode:26,name:"동구"},{typeCode:26,name:"북구"},{typeCode:26,name:"울주군"},{typeCode:26,name:"중구"},{typeCode:25,name:"대덕구"},{typeCode:25,name:"동구"},{typeCode:25,name:"서구"},{typeCode:25,name:"유성구"},{typeCode:25,name:"중구"},{typeCode:24,name:"광산구"},{typeCode:24,name:"남구"},{typeCode:24,name:"동구"},{typeCode:24,name:"북구"},{typeCode:24,name:"서구"},{typeCode:23,name:"강화군"},{typeCode:23,name:"계양구"},{typeCode:23,name:"남동구"},{typeCode:23,name:"동구"},{typeCode:23,name:"미추홀구"},{typeCode:23,name:"부평구"},{typeCode:23,name:"서구"},{typeCode:23,name:"연수구"},{typeCode:23,name:"옹진군"},{typeCode:23,name:"중구"},{typeCode:22,name:"남구"},{typeCode:22,name:"달서구"},{typeCode:22,name:"달성군"},{typeCode:22,name:"동구"},{typeCode:22,name:"북구"},{typeCode:22,name:"서구"},{typeCode:22,name:"수성구"},{typeCode:22,name:"중구"},{typeCode:21,name:"강서구"},{typeCode:21,name:"금정구"},{typeCode:21,name:"기장군"},{typeCode:21,name:"남구"},{typeCode:21,name:"동구"},{typeCode:21,name:"동래구"},{typeCode:21,name:"부산진구"},{typeCode:21,name:"북구"},{typeCode:21,name:"사상구"},{typeCode:21,name:"사하구"},{typeCode:21,name:"서구"},{typeCode:21,name:"수영구"},{typeCode:21,name:"연제구"},{typeCode:21,name:"영도구"},{typeCode:21,name:"중구"},{typeCode:21,name:"해운대구"},{typeCode:11,name:"강남구"},{typeCode:11,name:"강동구"},{typeCode:11,name:"강북구"},{typeCode:11,name:"강서구"},{typeCode:11,name:"관악구"},{typeCode:11,name:"광진구"},{typeCode:11,name:"구로구"},{typeCode:11,name:"금천구"},{typeCode:11,name:"노원구"},{typeCode:11,name:"도봉구"},{typeCode:11,name:"동대문구"},{typeCode:11,name:"동작구"},{typeCode:11,name:"마포구"},{typeCode:11,name:"서대문구"},{typeCode:11,name:"서초구"},{typeCode:11,name:"성동구"},{typeCode:11,name:"성북구"},{typeCode:11,name:"송파구"},{typeCode:11,name:"양천구"},{typeCode:11,name:"영등포구"},{typeCode:11,name:"용산구"},{typeCode:11,name:"은평구"},{typeCode:11,name:"종로구"},{typeCode:11,name:"중구"},{typeCode:11,name:"중랑구"}]},7914:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var o=a(3396),n=a(7139),s=a(9242);const d={id:"mapContainer"},p={class:"mapLocationSortBox"},i=(0,o._)("option",{value:"지역코드",hidden:""}," 지역 ",-1),m=["value"],y=(0,o._)("option",{value:"세부지역",hidden:""}," 세부지역 ",-1),C=["value"],r=(0,o._)("option",{value:"AllType",hidden:""}," 공간타입 ",-1),l=["value"],c=(0,o._)("i",{class:"fa-solid fa-rotate-right fa-lg"},null,-1),h=(0,o._)("span",null,"검색 초기화",-1),u=[c,h],k=(0,o._)("span",null,"현재위치",-1),g=[k],f=(0,o._)("div",{id:"map"},null,-1);function D(e,t,a,c,h,k){return(0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",p,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>h.selectCityCode=e),class:(0,n.C_)(["mapLocationSort",{selectTerms:"지역코드"!=h.selectCityCode}]),onChange:t[1]||(t[1]=(...e)=>k.selectCityOne&&k.selectCityOne(...e))},[i,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.cityAddressData,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e.typeCode},(0,n.zw)(e.name),9,m)))),128))],34),[[s.bM,h.selectCityCode]]),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>h.selectCityDetailName=e),class:(0,n.C_)(["mapLocationSort",{selectTerms:"세부지역"!=h.selectCityDetailName}]),onChange:t[3]||(t[3]=(...e)=>k.selectCityDetailOne&&k.selectCityDetailOne(...e))},[y,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.cityDetailAddressData,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e.name},(0,n.zw)(e.name),9,C)))),128))],34),[[s.bM,h.selectCityDetailName]]),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>h.selectSpaceType=e),class:(0,n.C_)(["mapLocationSort",{selectTerms:"AllType"!=h.selectSpaceType}]),onChange:t[5]||(t[5]=(...e)=>k.changeSpaceType&&k.changeSpaceType(...e))},[r,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.selectSpaceTypeData,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e.value},(0,n.zw)(e.name),9,l)))),128))],34),[[s.bM,h.selectSpaceType]]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>h.searchWord=e),class:(0,n.C_)([{selectTerms:""!=h.searchWord},"mapLocationSort"]),type:"text",placeholder:"키워드검색"},null,2),[[s.nr,h.searchWord]]),(0,o._)("div",{class:"selectTermsClearBtn",onClick:t[7]||(t[7]=(...e)=>k.selectTermsClear&&k.selectTermsClear(...e))},u),(0,o._)("div",{class:"selectTermsClearBtn",onClick:t[8]||(t[8]=(...e)=>k.getCurrentPosition&&k.getCurrentPosition(...e))},g)]),f])}a(7658);var A=a(1101),w=a(2900),N={data(){return{cityAddressData:[],cityDetailAddressData:[],selectCityCode:"지역코드",selectCityName:"AllRegions",selectCityDetailName:"세부지역",selectSpaceType:"AllType",searchWord:"",selectSpaceTypeData:[{name:"전체",value:"AllType"},{name:"오피스",value:"1"},{name:"데스크",value:"2"},{name:"회의실",value:"3"}],spaceItems:[],geocoder:"",markerArray:[],infowindow:"",infowindowArray:[],map:"",CoordinatesX:"",CoordinatesY:""}},async created(){await this.getCurrentPosition(),this.kakao()},mounted(){this.kakao()},methods:{kakao(){if(window.kakao&&window.kakao.maps)this.initMap();else{const e=document.createElement("script");e.onload=()=>kakao.maps.load(this.initMap),e.src="http://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=2627ce9d62772f5e16c1c48d472aadbd&libraries=services",document.head.appendChild(e)}},getCurrentPosition(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.getPositionValue,this.geolocationError):alert("위치 정보를 찾을 수 없습니다.1")},getPositionValue(e){this.CoordinatesX=e.coords.latitude,this.CoordinatesY=e.coords.longitude,this.paramsCheck()},geolocationError(){this.paramsCheck(),alert("위치 정보를 찾을 수 없습니다.2")},async paramsCheck(){this.cityAddressData=A.U,this.selectSpaceType=this.$route.params.spaceType,"AllType"==this.$route.params.spaceType&&(this.selectSpaceType="AllType"),this.searchWord=this.$route.params.spaceName,"AllName"==this.$route.params.spaceName&&(this.searchWord=""),this.selectCityName=this.$route.params.address,"AllRegions"==this.$route.params.address&&(this.selectCityName="AllRegions");for(let e=0;e<this.cityAddressData.length;e++)"-1"!=this.selectCityName.indexOf(this.cityAddressData[e].name)&&(this.selectCityCode=this.cityAddressData[e].typeCode);for(let e=0;e<A._.length;e++)A._[e].typeCode==this.selectCityCode&&this.cityDetailAddressData.push(A._[e]);for(let e=0;e<this.cityDetailAddressData.length;e++)"-1"!=this.selectCityName.indexOf(this.cityDetailAddressData[e].name)&&(this.selectCityDetailName=this.cityDetailAddressData[e].name);for(let e=0;e<this.cityAddressData.length;e++)this.selectCityCode==this.cityAddressData[e].typeCode&&(this.selectCityName=this.cityAddressData[e].name);if("AllRegions"!=this.selectCityName){let e=this.selectCityName;"세부지역"!=this.selectCityDetailName&&(e=this.selectCityName+" "+this.selectCityDetailName),console.log(e);let t=await this.getCoordsByAddress(e);this.setCenter(t.Ma,t.La),this.CoordinatesX=t.Ma,this.CoordinatesY=t.La,"세부지역"!=this.selectCityDetailName?this.zoomIn():this.zoomOut()}else this.setCenter(this.CoordinatesX,this.CoordinatesY),this.zoomOut();this.spaceInfoSearch()},changeSpaceType(){let e,t=this.selectCityName;"세부지역"!=this.selectCityDetailName&&(t=this.selectCityName+" "+this.selectCityDetailName),""==this.searchWord&&(e="AllName"),this.$router.replace("/map/"+this.selectSpaceType+"/"+e+"/"+t),this.spaceInfoSearch()},selectTermsClear(){this.selectCityCode="지역코드",this.selectCityName="AllRegions",this.selectCityDetailName="세부지역",this.selectSpaceType="AllType",this.searchWord="",this.$router.replace("/map/AllType/AllName/AllRegions"),this.getCurrentPosition()},async spaceInfoSearch(){try{let e=this.selectCityName,t=this.selectSpaceType;"AllRegions"==e&&(e=""),"세부지역"!=this.selectCityDetailName&&(e=this.selectCityName+" "+this.selectCityDetailName),"AllType"==t&&(t="");const a=await(0,w.bQ)("0",t,this.searchWord,e);this.spaceItems=a.data.data,this.initMap(),this.$store.dispatch("SPINNERVIEW",!1),console.log(a)}catch(e){console.log(e)}},async selectCityOne(){let e=this.selectCityCode;this.cityDetailAddressData=[],this.selectCityDetailName="세부지역";for(let n=0;n<A._.length;n++)A._[n].typeCode==e&&this.cityDetailAddressData.push(A._[n]);for(let n=0;n<this.cityAddressData.length;n++)this.selectCityCode==this.cityAddressData[n].typeCode&&(this.selectCityName=this.cityAddressData[n].name);let t,a=this.selectCityName,o=await this.getCoordsByAddress(a);this.setCenter(o.Ma,o.La),this.CoordinatesX=o.Ma,this.CoordinatesY=o.La,this.zoomOut(),this.spaceInfoSearch(),""==this.searchWord&&(t="AllName"),this.$router.replace("/map/"+this.selectSpaceType+"/"+t+"/"+this.selectCityName)},async selectCityDetailOne(){let e,t=this.selectCityName+" "+this.selectCityDetailName,a=await this.getCoordsByAddress(t);this.setCenter(a.Ma,a.La),this.CoordinatesX=a.Ma,this.CoordinatesY=a.La,this.zoomIn(),this.spaceInfoSearch(),""==this.searchWord&&(e="AllName"),this.$router.replace("/map/"+this.selectSpaceType+"/"+e+"/"+t)},setCenter(e,t){var a=new kakao.maps.LatLng(e,t);this.map.panTo(a)},zoomIn(){this.map.setLevel(5)},zoomOut(){this.map.setLevel(7)},async initMap(){let e=document.getElementById("map"),t={center:new kakao.maps.LatLng(this.CoordinatesX,this.CoordinatesY),level:7};this.map=new kakao.maps.Map(e,t);let a=new kakao.maps.ZoomControl;this.map.addControl(a,kakao.maps.ControlPosition.RIGHT);let o=[];for(let n=0;n<this.spaceItems.length;n++){let e=this.spaceItems[n].address,t=await this.getCoordsByAddress(e),a=new kakao.maps.Marker({map:this.map,position:t});this.markerArray.push(a),this.infowindow=new kakao.maps.InfoWindow({content:this.getContent(this.spaceItems[n])}),o.push(this.infowindow),kakao.maps.event.addListener(a,"click",this.makeOverListener(this.map,a,this.infowindow,o,t)),kakao.maps.event.addListener(this.map,"click",this.makeOutListener(this.infowindow))}},getCoordsByAddress(e){let t=new kakao.maps.services.Geocoder;return new Promise(((a,o)=>{t.addressSearch(e,(function(e,t){if(t!==kakao.maps.services.Status.OK)o(new Error("getCoordsByAddress Error: not Vaild Address"));else{var n=new kakao.maps.LatLng(e[0].y,e[0].x);a(n)}}))}))},getContent(e){return`\n      <div class="kakaoInfoBox">\n        <a href="${this.itemLink(e.spaceName,e.spaceId,e.spaceType)}">\n          <p>${e.spaceName}</p>\n        </a>\n        <span class="kakaoInfoGrade">평점(${e.gradeAvg})</span>\n        <span class="kakaoInfoReview">리뷰(${e.count}건)</span>\n        <p class="kakaoInfoAddress">${e.address+e.detailAddress}</p>\n      </div>\n      `},itemLink(e,t,a){return"/spaceOne/"+e+"/"+t+"/"+a},makeOverListener(e,t,a,o,n){return function(){for(let e of o)e.close();a.open(e,t),e.panTo(n)}},makeOutListener(e){return function(){e.close()}}}},T=a(89);const v=(0,T.Z)(N,[["render",D]]);var S=v}}]);
//# sourceMappingURL=914.f42f231f.js.map