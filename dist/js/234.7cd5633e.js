"use strict";(self["webpackChunkworktalk"]=self["webpackChunkworktalk"]||[]).push([[234],{3051:function(t,e,a){function s(t){t=t.replace(/[^0-9]/g,"");let e="";return t.length<4?t:t.length<7?(e+=t.substr(0,3),e+="-",e+=t.substr(3),e):(t.length,e+=t.substr(0,3),e+="-",e+=t.substr(3,4),e+="-",e+=t.substr(7),e)}a.d(e,{U:function(){return s}})},3234:function(t,e,a){a.r(e),a.d(e,{default:function(){return G}});var s=a(3396);const l=t=>((0,s.dD)("data-v-5eb1133a"),t=t(),(0,s.Cn)(),t),i={class:"profileBox"},o={key:0,class:"leaveClubBackground"},n=l((()=>(0,s._)("div",{class:"profileTitle"},[(0,s._)("span",null,"프로필 관리")],-1))),p={class:"goodByeBox"},d={key:1,class:"goodBye"},c=l((()=>(0,s._)("p",{class:"goodByeTitle"}," 정말 탈퇴하시겠습니까? ",-1))),u=l((()=>(0,s._)("p",{class:"goodByeExplain"}," 탈퇴하실 경우 기존에 이용한 모든 데이터는 삭제됩니다 ",-1)));function r(t,e,a,l,r,h){const k=(0,s.up)("profile-view");return(0,s.wg)(),(0,s.iD)("div",i,[r.goodByeView?((0,s.wg)(),(0,s.iD)("div",o)):(0,s.kq)("",!0),(0,s._)("div",null,[n,(0,s._)("div",null,[(0,s.Wm)(k,{"onMemberId:call":h.memberIdCall},null,8,["onMemberId:call"])]),(0,s._)("div",p,[(0,s._)("span",{class:"goodByeBtn",onClick:e[0]||(e[0]=(...t)=>h.goodByeWorkTalk&&h.goodByeWorkTalk(...t))},"탈퇴하기")])]),r.goodByeView?((0,s.wg)(),(0,s.iD)("div",d,[c,u,(0,s._)("p",{class:"goodByeCancel",onClick:e[1]||(e[1]=(...t)=>h.goodByeWorkTalkCancel&&h.goodByeWorkTalkCancel(...t))}," 아니요 "),(0,s._)("p",{class:"goodByeDone",onClick:e[2]||(e[2]=(...t)=>h.goodByeWorkTalkDone&&h.goodByeWorkTalkDone(...t))}," 예,탈퇴하겠습니다 ")])):(0,s.kq)("",!0)])}a(7658);var h=a(5008),k=a(9895),C=a(7139),D=a(9242);const w=t=>((0,s.dD)("data-v-53a03e4c"),t=t(),(0,s.Cn)(),t),g={class:"profileContainer"},y={key:0,class:"updateBackground"},m={class:"profileTextBox"},I=w((()=>(0,s._)("span",{class:"textTitle"},"닉네임",-1))),T={class:"textContent"},_=w((()=>(0,s._)("span",{class:"textTitle"},"이메일",-1))),B={class:"textContent"},M=w((()=>(0,s._)("span",{class:"textTitle"},"연락처",-1))),v={class:"textContent"},b={key:0},f={key:0,class:"updateBox"},E={class:"updateTitle"},W=["placeholder"],A=w((()=>(0,s._)("br",null,null,-1))),L={key:0,class:"warning"};function $(t,e,a,l,i,o){return(0,s.wg)(),(0,s.iD)("div",g,[""!=i.updateTitle?((0,s.wg)(),(0,s.iD)("div",y)):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("div",m,[(0,s._)("div",null,[I,(0,s._)("span",T,(0,C.zw)(i.userData.name),1)]),(0,s._)("div",null,[_,(0,s._)("span",B,(0,C.zw)(i.userData.email),1)]),(0,s._)("div",null,[M,(0,s._)("span",v,(0,C.zw)(i.userData.tel),1),(0,s._)("span",{class:"updateBtn",onClick:e[0]||(e[0]=t=>o.updateProfile("연락처수정"))},"연락처수정")]),i.userData.kakao?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("span",{class:"updateBtn",onClick:e[1]||(e[1]=t=>o.updateProfile("비밀번호수정"))},"비밀번호수정")]))]),""!=i.updateTitle?((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("p",E,(0,C.zw)(i.updateTitle),1),"연락처수정"==i.updateTitle?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,id:"cellPhone","onUpdate:modelValue":e[2]||(e[2]=t=>i.updateInputData=t),class:"telUpdate",type:"text",placeholder:i.userData.tel,maxlength:"13",onKeypress:e[3]||(e[3]=(...t)=>o.telKeypress&&o.telKeypress(...t))},null,40,W)),[[D.nr,i.updateInputData]]):(0,s.kq)("",!0),"비밀번호수정"==i.updateTitle?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.updateInputData=t),class:"pwUpdate",type:"password",placeholder:"변경할 비밀번호"},null,512),[[D.nr,i.updateInputData]]),A,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.pwCheck=t),class:"pwUpdate",type:"password",placeholder:"비밀번호확인",onKeyup:e[6]||(e[6]=(...t)=>o.pwMatchCheck&&o.pwMatchCheck(...t)),onChange:e[7]||(e[7]=(...t)=>o.pwMatchCheck&&o.pwMatchCheck(...t))},null,544),[[D.nr,i.pwCheck]]),i.pwMatch?((0,s.wg)(),(0,s.iD)("p",L," 비밀번호가 서로 다릅니다. ")):(0,s.kq)("",!0)],64)):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("span",{class:"updateCheckBtn",onClick:e[8]||(e[8]=(...t)=>o.updateCheck&&o.updateCheck(...t))},"수 정"),(0,s._)("span",{class:"updateCancelBtn",onClick:e[9]||(e[9]=(...t)=>o.updateCancel&&o.updateCancel(...t))},"닫 기")])])):(0,s.kq)("",!0)])])}var S=a(3051),V={emits:["member-id:call"],data(){return{userData:{},updateInputData:"",nicknameMessage:"",pwCheck:"",pwMatch:"",updateTitle:""}},created(){this.callUserData()},methods:{async callUserData(){try{const t=await(0,k.ZW)();this.userData=t.data,this.$emit("member-id:call",this.userData.id)}catch(t){console.log(t)}this.$store.dispatch("SPINNERVIEW",!1)},updateProfile(t){this.updateTitle=t},updateCancel(){this.updateTitle="",this.updateInputData=""},telKeypress(){const t=(0,S.U)(this.updateInputData);this.updateInputData=t},pwMatchCheck(){this.updateInputData===this.pwCheck?this.pwMatch=!1:this.pwMatch=!0},updateCheck(){let t="";""==this.updateInputData?(t="수정정보를 입력해주세요.",this.$store.dispatch("MODALVIEWCLICK",!0),this.$store.dispatch("MODALMESSAGE",t)):"비밀번호수정"==this.updateTitle?""==this.pwCheck?(t="비밀번호 확인을 입력해주세요.",this.$store.dispatch("MODALVIEWCLICK",!0),this.$store.dispatch("MODALMESSAGE",t)):this.updateInputData!=this.pwCheck?(t="수정 비밀번호가 일치하지 않습니다.",this.$store.dispatch("MODALVIEWCLICK",!0),this.$store.dispatch("MODALMESSAGE",t)):this.updateSubmit(this.updateTitle):this.updateSubmit(this.updateTitle)},async updateSubmit(t){"연락처수정"==t?this.userData.tel=this.updateInputData:"비밀번호수정"==t&&(this.userData.pw=this.updateInputData);const e={id:this.userData.id,pw:this.userData.pw,tel:this.userData.tel};console.log(e);try{const a=await(0,k.k6)(e);if(console.log(a),this.updateCancel(),this.$store.commit("setlogoutUser"),(0,h.kT)("token"),(0,h.kT)("email"),(0,h.kT)("userType"),"비밀번호수정"==t){let t="변경된 비밀번호로 로그인해주세요.";this.$store.dispatch("MODALVIEWCLICK",!0),this.$store.dispatch("MODALMESSAGE",t),this.$router.push("/login")}}catch(a){console.log(a)}}}},x=a(89);const O=(0,x.Z)(V,[["render",$],["__scopeId","data-v-53a03e4c"]]);var U=O,K={components:{ProfileView:U},data(){return{goodByeView:!1,memberId:""}},methods:{memberIdCall(t){this.memberId=t},goodByeWorkTalk(){this.goodByeView=!0},goodByeWorkTalkCancel(){this.goodByeView=!1},async goodByeWorkTalkDone(){try{const t=await(0,k.iu)(this.memberId);if(200==t.status){this.$store.commit("setlogoutUser"),(0,h.kT)("token"),(0,h.kT)("email"),(0,h.kT)("userType");let t="회원 탈퇴처리가 완료되었습니다.";this.$store.dispatch("MODALVIEWCLICK",!0),this.$store.dispatch("MODALMESSAGE",t),this.$router.push("/")}}catch(t){if(console.log(t),500==t.response.status){let t="진행중인 예약이 있습니다. 예약을 처리해주세요.";this.$store.dispatch("MODALVIEWCLICK",!0),this.$store.dispatch("MODALMESSAGE",t),this.goodByeWorkTalkCancel()}}}}};const q=(0,x.Z)(K,[["render",r],["__scopeId","data-v-5eb1133a"]]);var G=q}}]);
//# sourceMappingURL=234.7cd5633e.js.map